<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | Machines Dealer</title>
    <link rel="stylesheet" href="index.css">
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Outfit:wght@400;700&display=swap"
        rel="stylesheet">
    <!-- Chart.js for Analytics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .badge {
            display: inline-flex;
            align-items: center;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.02em;
        }

        .badge-available {
            background: rgba(59, 130, 246, 0.1);
            color: var(--accent-primary);
            border: 1px solid rgba(59, 130, 246, 0.2);
        }

        .badge-sold {
            background: rgba(239, 68, 68, 0.1);
            color: #f87171;
            border: 1px solid rgba(239, 68, 68, 0.2);
        }

        :root {
            /* Deep Sea Blue Monochromatic Palette */
            --bg-deep: #0f172a;
            --bg-accent: radial-gradient(circle at top right, #1e293b, #0f172a);
            --glass-surface: rgba(30, 41, 59, 0.7);
            --glass-border: rgba(255, 255, 255, 0.05);
            --accent-primary: #3b82f6;
            /* Vibrant Blue (Available/Growth) */
            --accent-deep: #1d4ed8;
            /* Deep Blue (Sold/Danger) */
            --accent-muted: #60a5fa;
            /* Soft Blue (Borders/Secondary) */
            --accent-glow: rgba(59, 130, 246, 0.15);

            /* Text Colors */
            --text-main: #f1f5f9;
            --text-muted: #94a3b8;

            /* Standardized Utilities */
            --success: var(--accent-primary);
            --danger: var(--accent-deep);
            --warning: var(--accent-muted);

            /* Spacing (8px grid) */
            --s-1: 0.25rem;
            --s-2: 0.5rem;
            --s-3: 0.75rem;
            --s-4: 1rem;
            --s-6: 1.5rem;
            --s-8: 2rem;

            --radius-lg: 12px;
            --radius-md: 8px;
            --radius-sm: 4px;

            --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes fadeUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulseGlow {
            0% {
                box-shadow: 0 0 0 0 var(--accent-glow);
            }

            70% {
                box-shadow: 0 0 0 10px rgba(59, 130, 246, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
            }

        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(10px);
            }

            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .apply-btn-hidden {
            display: none !important;
            opacity: 0;
            transform: scale(0.9) translateY(10px);
        }

        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes zoomOut {
            from {
                opacity: 1;
                transform: scale(1);
            }

            to {
                opacity: 0;
                transform: scale(0.9);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes fadeOut {
            from {
                opacity: 1;
            }

            to {
                opacity: 0;
            }
        }

        .apply-btn-visible {
            display: flex !important;
            animation: scaleIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            scrollbar-width: thin;
            scrollbar-color: var(--accent-primary) var(--bg-deep);
        }

        body {
            background: var(--bg-accent);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            height: 100vh;
            display: flex;
            overflow: hidden;
            -webkit-font-smoothing: antialiased;
        }

        h1,
        h2,
        h3,
        .logo-text,
        .stat-number {
            font-family: 'Outfit', sans-serif;
        }

        /* Glassmorphism System */
        .glass {
            background: var(--glass-surface);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
        }

        /* Sidebar - Floating Design */
        .admin-sidebar {
            width: 280px;
            margin: var(--s-4);
            padding: var(--s-6);
            display: flex;
            flex-direction: column;
            animation: fadeUp 0.6s ease-out;
        }

        .logo-text {
            font-size: 1.75rem;
            margin-bottom: var(--s-8);
            font-weight: 700;
            letter-spacing: -0.02em;
            display: flex;
            align-items: center;
        }

        .nav-item {
            padding: var(--s-3) var(--s-4);
            border-radius: var(--radius-sm);
            cursor: pointer;
            margin-bottom: var(--s-2);
            color: var(--text-muted);
            transition: var(--transition-smooth);
            display: flex;
            align-items: center;
            gap: var(--s-3);
            font-weight: 500;
            border: 1px solid transparent;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-main);
            transform: translateX(4px);
        }

        .nav-item.active {
            background: var(--accent-primary);
            color: white;
            box-shadow: 0 4px 15px var(--accent-glow);
            border-color: rgba(255, 255, 255, 0.2);
        }

        /* Main Content Wrapper */
        .admin-main-wrapper {
            flex: 1;
            padding: var(--s-4) var(--s-4) var(--s-4) 0;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .admin-container {
            flex: 1;
            padding: var(--s-6);
            overflow-y: auto;
            border-radius: var(--radius-lg);
            background: rgba(15, 23, 42, 0.3);
            border: 1px solid var(--glass-border);
            animation: fadeUp 0.8s ease-out;
        }

        /* Stat Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: var(--s-4);
            margin-bottom: var(--s-6);
        }

        .stat-card {
            padding: var(--s-6);
            transition: var(--transition-smooth);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-primary);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            margin-top: var(--s-2);
            color: var(--accent-primary);
        }

        /* Data Tables - Premium Look */
        .card {
            background: var(--glass-surface);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-md);
            padding: var(--s-6);
            margin-bottom: var(--s-6);
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0 var(--s-2);
        }

        th {
            text-align: left;
            padding: var(--s-4);
            color: var(--text-muted);
            font-weight: 600;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        td {
            padding: var(--s-4);
            background: rgba(255, 255, 255, 0.03);
            border-top: 1px solid var(--glass-border);
            border-bottom: 1px solid var(--glass-border);
            transition: var(--transition-smooth);
        }

        tr td:first-child {
            border-left: 1px solid var(--glass-border);
            border-top-left-radius: var(--radius-sm);
            border-bottom-left-radius: var(--radius-sm);
        }

        tr td:last-child {
            border-right: 1px solid var(--glass-border);
            border-top-right-radius: var(--radius-sm);
            border-bottom-right-radius: var(--radius-sm);
        }

        tr:hover td {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(59, 130, 246, 0.3);
        }

        /* Selection Highlighting */
        tr.selected-row td {
            background: rgba(59, 130, 246, 0.15) !important;
            border-top-color: rgba(59, 130, 246, 0.4) !important;
            border-bottom-color: rgba(59, 130, 246, 0.4) !important;
        }

        tr.selected-row td:first-child {
            border-left-color: rgba(59, 130, 246, 0.4) !important;
        }

        tr.selected-row td:last-child {
            border-right-color: rgba(59, 130, 246, 0.4) !important;
        }

        /* Custom Checkboxes */
        input[type="checkbox"] {
            appearance: none;
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            background: rgba(15, 23, 42, 0.6);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            cursor: pointer;
            position: relative;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            margin: 0;
            vertical-align: middle;
        }

        input[type="checkbox"]:checked {
            background: var(--accent-primary);
            border-color: var(--accent-primary);
            box-shadow: 0 0 10px var(--accent-glow);
        }

        input[type="checkbox"]:checked::after {
            content: '';
            position: absolute;
            left: 5px;
            top: 2px;
            width: 5px;
            height: 9px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }

        input[type="checkbox"]:hover {
            border-color: var(--accent-primary);
        }

        /* Dropdown Visibility & Contrast */
        select.form-input {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 16px;
            padding-right: 40px;
            color: white;
            cursor: pointer;
        }

        select.form-input option {
            background: #0f172a;
            color: white;
            padding: 12px;
        }

        /* Buttons */
        .btn-admin {
            background: var(--accent-primary);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: var(--s-2) var(--s-4);
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-weight: 600;
            font-family: 'Inter', sans-serif;
            transition: var(--transition-smooth);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--s-2);
        }

        .btn-admin:hover {
            filter: brightness(1.2);
            box-shadow: 0 0 20px var(--accent-glow);
            transform: translateY(-2px);
        }

        .btn-outline {
            background: transparent;
            border: 1px solid var(--glass-border);
            color: var(--text-muted);
        }

        .btn-outline:hover {
            color: white;
            background: rgba(255, 255, 255, 0.05);
        }

        /* Forms */
        .form-input {
            width: 100%;
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid var(--glass-border);
            padding: var(--s-3);
            border-radius: var(--radius-sm);
            color: white;
            font-family: inherit;
            transition: var(--transition-smooth);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 3px var(--accent-glow);
        }

        .form-input:not(:disabled) {
            border-color: rgba(59, 130, 246, 0.4);
            box-shadow: 0 0 8px var(--accent-glow);
        }

        .ql-container:not(.ql-disabled) {
            border-color: rgba(59, 130, 246, 0.4) !important;
            box-shadow: 0 0 12px var(--accent-glow);
            transition: var(--transition-smooth);
        }

        /* Modal Overhaul */
        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            z-index: 3000;
            display: none;
            justify-content: center;
            align-items: center;
            padding: var(--s-4);
        }

        .modal-content {
            width: 800px;
            max-width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            padding: var(--s-6);
            /* Reduced padding for mobile */
            display: flex;
            flex-direction: column;
        }

        form {
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }

        @media (max-width: 1024px) {
            .admin-sidebar {
                position: fixed;
                left: -280px;
                top: 0;
                bottom: 0;
                z-index: 5000;
                margin: 0;
                border-radius: 0;
                transition: var(--transition-smooth);
            }

            .admin-sidebar.mobile-active {
                left: 0;
            }

            .mobile-close-btn {
                display: block !important;
            }

            .admin-sidebar-overlay {
                display: none;
                position: fixed;
                inset: 0;
                background: rgba(0, 0, 0, 0.6);
                backdrop-filter: blur(4px);
                z-index: 4999;
            }

            .admin-sidebar-overlay.active {
                display: block;
            }

            .admin-main-wrapper {
                padding: 0;
            }

            .admin-mobile-header {
                display: flex;
                align-items: center;
                justify-content: space-between;
                padding: var(--s-4) var(--s-6);
                background: var(--bg-deep);
                border-bottom: 1px solid var(--glass-border);
                position: sticky;
                top: 0;
                z-index: 100;
            }
        }

        .charts-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--s-6);
        }

        @media (max-width: 1024px) {
            .charts-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 640px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }

            header {
                flex-direction: column;
                align-items: flex-start !important;
                gap: var(--s-4);
            }

            header h1 {
                font-size: 1.5rem !important;
            }
        }

        /* Action Menu Dropdown */
        .actions-cell {
            position: relative;
            text-align: right;
            padding-right: var(--s-6) !important;
        }

        .action-dots {
            width: 32px;
            height: 32px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            cursor: pointer;
            transition: var(--transition-smooth);
            color: var(--text-muted);
            border: 1px solid transparent;
        }

        .action-dots:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border-color: var(--glass-border);
        }

        .action-menu {
            position: absolute;
            right: var(--s-6);
            top: 70%;
            width: 160px;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-sm);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            z-index: 1000;
            display: none;
            flex-direction: column;
            overflow: hidden;
            animation: fadeUp 0.15s ease-out;
        }

        .action-menu.active {
            display: flex;
        }

        .action-item {
            padding: var(--s-3) var(--s-4);
            font-size: 0.85rem;
            color: var(--text-muted);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: var(--transition-smooth);
        }

        .action-item:hover {
            background: rgba(255, 255, 255, 0.05);
            color: white;
        }

        .action-item.danger:hover {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
        }

        /* Bulk Action Bar */
        .bulk-action-bar {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(59, 130, 246, 0.9);
            backdrop-filter: blur(10px);
            padding: var(--s-3) var(--s-6);
            border-radius: var(--radius-md);
            margin-bottom: var(--s-4);
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
            animation: slideDown 0.3s ease-out;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        @keyframes slideDown {
            from {
                transform: translateY(-100%);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @media (max-width: 1024px) {
            body {
                flex-direction: column;
                overflow-y: auto;
            }

            .admin-sidebar {
                position: fixed;
                left: -280px;
                top: 0;
                bottom: 0;
                z-index: 5000;
                margin: 0;
                border-radius: 0;
                transition: var(--transition-smooth);
            }

            .admin-sidebar.mobile-active {
                left: 0;
            }

            .admin-main-wrapper {
                padding: var(--s-4);
            }

            .admin-container {
                overflow-y: visible;
            }

            .stats-grid {
                grid-template-columns: 1fr 1fr;
            }
        }

        @media (max-width: 640px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }

            .modal-content {
                padding: var(--s-4);
            }

            .modal-content form>div {
                grid-template-columns: 1fr !important;
            }
        }

        /* Mobile Header */
        .admin-mobile-header {
            display: none;
            justify-content: space-between;
            align-items: center;
            padding: var(--s-4);
            background: var(--glass-surface);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--glass-border);
            margin-bottom: var(--s-4);
            border-radius: var(--radius-md);
        }

        @media (max-width: 1024px) {
            .admin-mobile-header {
                display: flex;
            }
        }

        .mobile-menu-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--glass-border);
            color: white;
            padding: 8px;
            border-radius: var(--radius-sm);
            cursor: pointer;
        }

        /* Responsive Tables */
        .card {
            overflow-x: auto;
        }

        table {
            min-width: 600px;
        }
    </style>
</head>

<!-- Staff Modal -->
<div id="staff-modal" class="modal">
    <div class="glass modal-content">
        <h2 id="staff-modal-title" style="margin-bottom: var(--s-6);">Executive Management</h2>
        <form id="staff-form" onsubmit="window.adminManager.saveStaff(event)">
            <input type="hidden" id="staff-id">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--s-4);">
                <div class="form-group">
                    <label style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Full
                        Name</label>
                    <input type="text" id="staff-name" class="form-input" required>
                </div>
                <div class="form-group">
                    <label style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Job
                        Title</label>
                    <input type="text" id="staff-title" class="form-input" required>
                </div>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--s-4); margin-top: var(--s-4);">
                <div class="form-group">
                    <label
                        style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Contact
                        Info (Optional)</label>
                    <input type="text" id="staff-contact" class="form-input" placeholder="e.g. +91 ...">
                </div>
                <div class="form-group">
                    <label
                        style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Location
                        (Optional)</label>
                    <input type="text" id="staff-location" class="form-input" placeholder="e.g. Delhi">
                </div>
            </div>
            <div class="form-group" style="margin-top: var(--s-4);">
                <label style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Profile
                    Picture Filename</label>
                <div style="display: flex; gap: var(--s-2);">
                    <input type="text" id="staff-image" class="form-input" style="flex: 1;">
                    <button type="button" class="btn-admin btn-outline"
                        onclick="window.adminManager.triggerUpload('staff', 'staff-image')">Upload</button>
                </div>
                <div id="preview-staff-image" style="margin-top: 10px;"></div>
            </div>
            <div style="margin-top: var(--s-6); display: flex; gap: var(--s-3);">
                <button type="button" class="btn-admin btn-outline"
                    onclick="document.getElementById('staff-modal').style.display='none'">Cancel</button>
                <button type="submit" class="btn-admin">Save Member</button>
            </div>
        </form>
    </div>
</div>

<body>

    <!-- Ambient Glow Background -->
    <div
        style="position: fixed; top: -10%; right: -10%; width: 40%; height: 40%; background: var(--accent-glow); filter: blur(150px); opacity: 0.3; pointer-events: none; z-index: 0;">
    </div>
    <div
        style="position: fixed; bottom: -10%; left: -10%; width: 30%; height: 30%; background: rgba(16, 185, 129, 0.2); filter: blur(120px); opacity: 0.2; pointer-events: none; z-index: 0;">
    </div>

    <!-- Login Screen -->
    <div id="login-screen"
        style="position: fixed; inset: 0; background: var(--bg-deep); z-index: 4000; display: flex; justify-content: center; align-items: center; background: var(--bg-accent);">
        <div class="glass"
            style="padding: var(--s-8); width: 400px; text-align: center; animation: fadeUp 0.8s ease-out;">
            <div class="logo-text" style="margin-bottom: var(--s-2);">MD<span
                    style="color: var(--accent-primary);">Admin</span></div>
            <p style="color: var(--text-muted); margin-bottom: var(--s-6);">Secure Access Required</p>

            <form onsubmit="checkAuth(); return false;">
                <input type="password" id="admin-password" class="form-input" placeholder="Enter Access Code"
                    style="text-align: center; margin-bottom: var(--s-4); padding: 15px;" required>
                <button type="submit" class="btn-admin" style="width: 100%; padding: 12px;">Unlock
                    Dashboard</button>
            </form>
            <p id="login-error"
                style="color: var(--danger); margin-top: var(--s-4); display: none; font-size: 0.875rem;">Invalid access
                code.</p>
        </div>
    </div>

    <!-- Sidebar Overlay -->
    <div class="admin-sidebar-overlay" id="sidebar-overlay"
        onclick="document.querySelector('.admin-sidebar').classList.remove('mobile-active'); this.classList.remove('active');">
    </div>

    <!-- Sidebar -->
    <div class="glass admin-sidebar" style="position: relative; z-index: 10;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--s-8);">
            <div class="logo-text" style="margin-bottom: 0;">MD<span style="color: var(--accent-primary);">Admin</span>
            </div>
            <button class="mobile-close-btn"
                style="display: none; background: transparent; border: none; color: white; cursor: pointer;"
                onclick="document.querySelector('.admin-sidebar').classList.remove('mobile-active'); document.getElementById('sidebar-overlay').classList.remove('active');">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>

        <nav style="flex: 1;">
            <div onclick="window.adminManager.switchView('inventory')" id="nav-inventory" class="nav-item active">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path
                        d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z">
                    </path>
                    <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                    <line x1="12" y1="22.08" x2="12" y2="12"></line>
                </svg> Inventory
            </div>
            <div onclick="window.adminManager.switchView('news')" id="nav-news" class="nav-item">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                    <polyline points="22,6 12,13 2,6"></polyline>
                </svg> News & Events
            </div>
            <div onclick="window.adminManager.switchView('blogs')" id="nav-blogs" class="nav-item">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                    <polyline points="14 2 14 8 20 8"></polyline>
                    <line x1="16" y1="13" x2="8" y2="13"></line>
                    <line x1="16" y1="17" x2="8" y2="17"></line>
                    <polyline points="10 9 9 9 8 9"></polyline>
                </svg> Blogs
            </div>
            <div onclick="window.adminManager.switchView('videos')" id="nav-videos" class="nav-item">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <polygon points="23 7 16 12 23 17 23 7"></polygon>
                    <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
                </svg> Videos
            </div>
            <div onclick="window.adminManager.switchView('analytics')" id="nav-analytics" class="nav-item">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" y1="20" x2="18" y2="10"></line>
                    <line x1="12" y1="20" x2="12" y2="4"></line>
                    <line x1="6" y1="20" x2="6" y2="14"></line>
                </svg> Analytics
            </div>
            <div onclick="window.adminManager.switchView('site-settings')" id="nav-site-settings" class="nav-item">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path
                        d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
                    </path>
                </svg> Site Settings
            </div>
            <div onclick="window.adminManager.switchView('about-staff')" id="nav-about-staff" class="nav-item">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                    <circle cx="9" cy="7" r="4"></circle>
                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                </svg> About & Staff
            </div>

            <div onclick="window.adminManager.switchView('subscribers')" id="nav-subscribers" class="nav-item">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                    <polyline points="22,6 12,13 2,6"></polyline>
                </svg> Subscribers
            </div>
        </nav>

        <div
            style="margin-top: auto; display: flex; gap: var(--s-2); padding: 0 var(--s-4) var(--s-4); justify-content: center;">
            <button onclick="window.open('index.html', '_blank')" class="btn-admin btn-outline" title="View Site"
                style="flex: 1; padding: 8px; height: auto; border: 1px solid rgba(255,255,255,0.1); background: transparent; display: flex; justify-content: center; align-items: center;">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                    <polyline points="15 3 21 3 21 9"></polyline>
                    <line x1="10" y1="14" x2="21" y2="3"></line>
                </svg>
            </button>
            <button onclick="logout()" class="btn-admin btn-outline" title="Logout"
                style="flex: 1; padding: 8px; height: auto; border: 1px solid rgba(239, 68, 68, 0.2); color: var(--danger); background: transparent; display: flex; justify-content: center; align-items: center;">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                    <polyline points="16 17 21 12 16 7"></polyline>
                    <line x1="21" y1="12" x2="9" y2="12"></line>
                </svg>
            </button>
        </div>
    </div>

    <!-- Main Content Wrapper -->
    <div class="admin-main-wrapper" style="position: relative; z-index: 10;">
        <div class="admin-mobile-header">
            <div class="logo-text" style="margin-bottom: 0; font-size: 1.25rem;">MD<span
                    style="color: var(--accent-primary);">Admin</span></div>
            <button class="mobile-menu-btn"
                onclick="document.querySelector('.admin-sidebar').classList.toggle('mobile-active'); document.getElementById('sidebar-overlay').classList.toggle('active');">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </button>
        </div>
        <div class="admin-container">
            <!-- Page Header -->
            <header
                style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--s-8);">
                <h1 id="page-title"
                    style="font-size: 2rem; font-weight: 700; background: linear-gradient(to right, white, var(--text-muted)); background-clip: text; -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                    Dashboard</h1>
                <div style="display: flex; gap: var(--s-3); align-items: center;">
                    <button id="archive-toggle-btn" class="btn-admin btn-outline"
                        onclick="window.adminManager.toggleShowArchived()"
                        style="font-size: 0.8rem; padding: 6px 12px; height: auto;">
                        Archive View (Off)
                    </button>
                    <button id="apply-changes-btn" class="btn-admin apply-btn-hidden"
                        onclick="window.adminManager.applyAllChanges()"
                        style="background: var(--accent-primary); padding: 8px 16px; font-weight: 600; align-items: center; gap: 8px;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20 6L9 17l-5-5"></path>
                        </svg>
                        Apply Changes to Website
                    </button>
                    <div id="last-sync"
                        style="font-size: 0.8rem; color: var(--text-muted); display: flex; align-items: center;">
                        <span
                            style="width: 8px; height: 8px; background: var(--success); border-radius: 50%; display: inline-block; margin-right: 8px; box-shadow: 0 0 10px var(--success);"></span>
                        Live Connection Active
                    </div>
                </div>
            </header>

            <!-- Inventory View -->
            <div id="view-inventory">
                <div class="stats-grid">
                    <div class="glass stat-card">
                        <h3
                            style="color: var(--text-muted); font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.05em;">
                            Total Machines</h3>
                        <p class="stat-number" id="total-machines">0</p>
                    </div>
                    <div class="glass stat-card">
                        <h3
                            style="color: var(--text-muted); font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.05em;">
                            Available Assets</h3>
                        <p class="stat-number" id="available-machines" style="color: var(--success);">0</p>
                    </div>
                    <div class="glass stat-card">
                        <h3
                            style="color: var(--text-muted); font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.05em;">
                            Units Sold</h3>
                        <p class="stat-number" id="sold-machines" style="color: var(--warning);">0</p>
                    </div>
                </div>

                <div class="card"
                    style="display: flex; justify-content: space-between; align-items: center; gap: var(--s-4);">
                    <div style="position: relative; flex: 1; max-width: 400px;">
                        <span
                            style="position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: var(--text-muted);">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="11" cy="11" r="8"></circle>
                                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                            </svg>
                        </span>
                        <input type="text" placeholder="Filter inventory..." class="form-input"
                            style="padding-left: 40px;" onkeyup="window.adminManager.renderTable(this.value)">
                    </div>
                    <button class="btn-admin" onclick="openAddModal()">+ Register New Machine</button>
                </div>

                <div class="card" style="overflow-x: auto; background: rgba(15, 23, 42, 0.4);">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th style="width: 40px;">
                                    <input type="checkbox" id="select-all-machines"
                                        onclick="window.adminManager.toggleAllSelection(this.checked)"
                                        style="width: 18px; height: 18px; accent-color: var(--accent-primary);">
                                </th>
                                <th>Photo</th>
                                <th>Machine Asset</th>
                                <th>Category</th>
                                <th>Status</th>
                                <th>Year</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="admin-inventory-list">
                            <!-- Populated by JS -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- News View -->
            <div id="view-news" style="display: none;">
                <div class="card" style="display: flex; justify-content: space-between; align-items: center;">
                    <h2>News & Archive Management</h2>
                    <button class="btn-admin" onclick="window.adminManager.openNewsModal()">+ Create News Item</button>
                </div>
                <div id="news-bulk-actions" class="bulk-action-bar" style="display: none;">
                    <span><strong id="news-selected-count">0</strong> items selected</span>
                    <div style="display: flex; gap: var(--s-3);">
                        <button onclick="window.adminManager.openNewsBulkModal()" class="btn-admin"
                            style="background: var(--accent-primary);">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
                                <path d="M18.5 2.5a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4L18.5 2.5z" />
                            </svg> Bulk Edit
                        </button>
                        <button onclick="window.adminManager.deleteSelectedNews()" class="btn-admin"
                            style="background: var(--danger);">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <polyline points="3 6 5 6 21 6" />
                                <path
                                    d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
                                <line x1="10" y1="11" x2="10" y2="17" />
                                <line x1="14" y1="11" x2="14" y2="17" />
                            </svg> Delete Selected
                        </button>
                    </div>
                </div>
                <div class="card">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th style="width: 40px;">
                                    <input type="checkbox" id="select-all-news"
                                        onclick="window.adminManager.toggleAllNewsSelection(this.checked)"
                                        style="width: 18px; height: 18px; accent-color: var(--accent-primary);">
                                </th>
                                <th>Year</th>
                                <th>Month</th>
                                <th>Content Preview</th>
                                <th>Asset Link</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="admin-news-list"></tbody>
                    </table>
                </div>
            </div>

            <!-- Blogs View -->
            <div id="view-blogs" style="display: none;">
                <div class="card" style="display: flex; justify-content: space-between; align-items: center;">
                    <h2>Blog Articles</h2>
                    <button class="btn-admin" onclick="window.adminManager.openBlogModal()">+ Draft New Post</button>
                </div>
                <div id="blogs-bulk-actions" class="bulk-action-bar" style="display: none;">
                    <span><strong id="blogs-selected-count">0</strong> items selected</span>
                    <button onclick="window.adminManager.deleteSelectedBlogs()" class="btn-admin"
                        style="background: var(--danger);">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <polyline points="3 6 5 6 21 6" />
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
                            <line x1="10" y1="11" x2="10" y2="17" />
                            <line x1="14" y1="11" x2="14" y2="17" />
                        </svg> Delete Selected
                    </button>
                </div>
                <div class="card">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th style="width: 40px;">
                                    <input type="checkbox" id="select-all-blogs"
                                        onclick="window.adminManager.toggleAllBlogSelection(this.checked)"
                                        style="width: 18px; height: 18px; accent-color: var(--accent-primary);">
                                </th>
                                <th>Blog Title</th>
                                <th>Slug</th>
                                <th>Status</th>
                                <th class="actions-cell">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="admin-blogs-list"></tbody>
                    </table>
                </div>
            </div>

            <!-- Videos View -->
            <div id="view-videos" style="display: none;">
                <div class="card" style="display: flex; justify-content: space-between; align-items: center;">
                    <h2>Video Gallery</h2>
                    <button class="btn-admin" onclick="window.adminManager.openVideoModal()">+ Add YouTube
                        Video</button>
                </div>
                <div id="videos-bulk-actions" class="bulk-action-bar" style="display: none;">
                    <span><strong id="videos-selected-count">0</strong> items selected</span>
                    <button onclick="window.adminManager.deleteSelectedVideos()" class="btn-admin"
                        style="background: var(--danger);">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <polyline points="3 6 5 6 21 6" />
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
                            <line x1="10" y1="11" x2="10" y2="17" />
                            <line x1="14" y1="11" x2="14" y2="17" />
                        </svg> Delete Selected
                    </button>
                </div>
                <div class="card">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th style="width: 40px;">
                                    <input type="checkbox" id="select-all-videos"
                                        onclick="window.adminManager.toggleAllVideoSelection(this.checked)"
                                        style="width: 18px; height: 18px; accent-color: var(--accent-primary);">
                                </th>
                                <th>Video Title</th>
                                <th>YouTube Link</th>
                                <th>Status</th>
                                <th class="actions-cell">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="admin-videos-list"></tbody>
                    </table>
                </div>
            </div>

            <!-- Analytics View -->
            <div id="view-analytics" style="display: none;">
                <div class="stats-grid" id="analytics-stats">
                    <!-- Populated by JS -->
                </div>

                <div class="charts-grid">
                    <div class="card" style="height: 400px; display: flex; flex-direction: column;">
                        <h3 style="margin-bottom: var(--s-4);">Inventory Momentum</h3>
                        <div style="flex: 1; min-height: 0;">
                            <canvas id="chart-main"></canvas>
                        </div>
                    </div>
                    <div class="card" style="height: 400px; display: flex; flex-direction: column;">
                        <h3 style="margin-bottom: var(--s-4);">Asset Status</h3>
                        <div style="flex: 1; min-height: 0;">
                            <canvas id="chart-status"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Site Settings View -->
            <div id="view-site-settings" style="display: none;">
                <div class="card" style="display: flex; justify-content: space-between; align-items: center;">
                    <h2>Global Site Settings</h2>
                    <div style="display: flex; gap: 12px;">
                        <button class="btn-admin btn-outline" id="edit-settings-btn"
                            onclick="window.adminManager.toggleSettingsEdit()">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
                                <path d="M18.5 2.5a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4L18.5 2.5z" />
                            </svg> Edit Settings
                        </button>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--s-6);">
                    <!-- Identity & Contact -->
                    <div class="glass" style="padding: var(--s-6);">
                        <h3 style="margin-bottom: var(--s-4); color: var(--accent-primary);">Brand Identity</h3>
                        <div class="form-group" style="margin-bottom: var(--s-3);">
                            <label style="font-size: 0.8rem; color: var(--text-muted);">Site Name (Logo)</label>
                            <input type="text" id="set-site-name" class="form-input" disabled>
                        </div>
                        <div class="form-group" style="margin-bottom: var(--s-3);">
                            <label style="font-size: 0.8rem; color: var(--text-muted);">Meta Title (Browser Tab)</label>
                            <input type="text" id="set-meta-title" class="form-input" disabled>
                        </div>
                        <div class="form-group">
                            <label style="font-size: 0.8rem; color: var(--text-muted);">Meta Description</label>
                            <textarea id="set-meta-desc" class="form-input" style="height: 80px;" disabled></textarea>
                        </div>
                    </div>

                    <div class="glass" style="padding: var(--s-6);">
                        <h3 style="margin-bottom: var(--s-4); color: var(--accent-primary);">Contact Information</h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--s-3);">
                            <div class="form-group">
                                <label style="font-size: 0.8rem; color: var(--text-muted);">Consultancy Phone</label>
                                <input type="text" id="set-phone-1" class="form-input" disabled>
                            </div>
                            <div class="form-group">
                                <label style="font-size: 0.8rem; color: var(--text-muted);">Sales Phone</label>
                                <input type="text" id="set-phone-2" class="form-input" disabled>
                            </div>
                        </div>
                        <div class="form-group" style="margin-top: var(--s-3);">
                            <label style="font-size: 0.8rem; color: var(--text-muted);">Official Email</label>
                            <input type="text" id="set-email" class="form-input" disabled>
                        </div>
                        <div class="form-group" style="margin-top: var(--s-3);">
                            <label style="font-size: 0.8rem; color: var(--text-muted);">Head Office Address</label>
                            <input type="text" id="set-address" class="form-input" disabled>
                        </div>
                    </div>

                    <!-- Social Media Links -->
                    <div class="glass" style="padding: var(--s-6);">
                        <h3 style="margin-bottom: var(--s-4); color: var(--accent-primary);">Social Media Presence</h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--s-3);">
                            <div class="form-group">
                                <label style="font-size: 0.8rem; color: var(--text-muted);">Instagram URL</label>
                                <input type="text" id="set-social-instagram" class="form-input"
                                    placeholder="https://..." disabled>
                            </div>
                            <div class="form-group">
                                <label style="font-size: 0.8rem; color: var(--text-muted);">Facebook URL</label>
                                <input type="text" id="set-social-facebook" class="form-input" placeholder="https://..."
                                    disabled>
                            </div>
                            <div class="form-group">
                                <label style="font-size: 0.8rem; color: var(--text-muted);">LinkedIn URL</label>
                                <input type="text" id="set-social-linkedin" class="form-input" placeholder="https://..."
                                    disabled>
                            </div>
                            <div class="form-group">
                                <label style="font-size: 0.8rem; color: var(--text-muted);">YouTube URL</label>
                                <input type="text" id="set-social-youtube" class="form-input" placeholder="https://..."
                                    disabled>
                            </div>
                        </div>
                    </div>

                    <!-- Hero Section -->
                    <div class="glass" style="padding: var(--s-6); grid-column: span 2;">
                        <h3 style="margin-bottom: var(--s-4); color: var(--accent-primary);">Hero Section (Landing Page)
                        </h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--s-4);">
                            <div>
                                <div class="form-group" style="margin-bottom: var(--s-3);">
                                    <label style="font-size: 0.8rem; color: var(--text-muted);">Headline Main
                                        Text</label>
                                    <input type="text" id="set-hero-main" class="form-input" disabled>
                                </div>
                                <div class="form-group">
                                    <label style="font-size: 0.8rem; color: var(--text-muted);">Headline Accent
                                        Text</label>
                                    <input type="text" id="set-hero-accent" class="form-input" disabled>
                                </div>
                            </div>
                            <div class="form-group">
                                <label style="font-size: 0.8rem; color: var(--text-muted);">Sub-headline /
                                    Description</label>
                                <textarea id="set-hero-sub" class="form-input" style="height: 100px;"
                                    disabled></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>



            <!-- About & Staff View -->
            <div id="view-about-staff" style="display: none;">
                <div class="card" style="display: flex; justify-content: space-between; align-items: center;">
                    <h2>About US & Leadership</h2>
                    <div style="display: flex; gap: 12px;">
                        <button class="btn-admin btn-outline" id="edit-about-btn"
                            onclick="window.adminManager.toggleAboutEdit()">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
                                <path d="M18.5 2.5a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4L18.5 2.5z" />
                            </svg> Edit About Content
                        </button>
                    </div>
                </div>

                <div class="glass" style="padding: var(--s-6); margin-bottom: var(--s-6);">
                    <h3 style="margin-bottom: var(--s-4);">Section Heading & Content</h3>
                    <div class="form-group" style="margin-bottom: var(--s-4);">
                        <label style="font-size: 0.8rem; color: var(--text-muted);">The "About Us" Core Text (HTML
                            Supported)</label>
                        <div id="set-about-body"
                            style="height: 300px; background: rgba(0,0,0,0.2); border: 1px solid var(--glass-border); border-radius: var(--radius-sm); color: white;">
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--s-4);">
                        <h3>Executive Team</h3>
                        <button class="btn-admin" onclick="window.adminManager.openStaffModal()">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19" />
                                <line x1="5" y1="12" x2="19" y2="12" />
                            </svg> Add New Executive
                        </button>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Photo</th>
                                <th>Name</th>
                                <th>Title</th>
                                <th>Contact</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="admin-staff-list"></tbody>
                    </table>
                </div>
            </div>

            <!-- Subscribers View -->
            <div id="view-subscribers" style="display: none;">
                <div class="card" style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h2>Newsletter Subscribers</h2>
                        <p style="color: var(--text-muted); font-size: 0.85rem; margin-top: 4px;">Manage your captured
                            email leads.</p>
                    </div>
                    <button class="btn-admin" onclick="window.adminManager.exportSubscribers()">
                         Export CSV
                    </button>
                </div>

                <div class="card">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Email Address</th>
                                <th>Signup Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="admin-subscribers-list">
                            <!-- Populated by JS -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Settings View -->
            <div id="view-settings" style="display: none;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--s-6);">
                    <div class="glass" style="padding: var(--s-8);">
                        <h3 style="margin-bottom: var(--s-4);">Data Management</h3>
                        <p style="color: var(--text-muted); margin-bottom: var(--s-6); font-size: 0.9rem;">Securely
                            export your entire inventory and cms data as a portable JSON file.</p>
                        <div style="display: flex; flex-direction: column; gap: var(--s-3);">
                            <button onclick="window.adminManager.downloadBackup('inventory')"
                                class="btn-admin btn-outline" style="width: 100%; justify-content: flex-start;">
                                 Download Inventory Backup
                            </button>
                            <button onclick="window.adminManager.downloadBackup('all')" class="btn-admin"
                                style="width: 100%; justify-content: flex-start;">
                                 Export Complete System Data
                            </button>
                        </div>
                    </div>
                    <div class="glass" style="padding: var(--s-8);">
                        <h3 style="margin-bottom: var(--s-4);">Security Control</h3>
                        <p style="color: var(--text-muted); margin-bottom: var(--s-6); font-size: 0.9rem;">Update your
                            administrative access code. This change persists in your browser.</p>
                        <div class="form-group" style="margin-bottom: var(--s-4);">
                            <label
                                style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">New
                                Access Code</label>
                            <input type="password" id="new-access-code" class="form-input" placeholder="">
                        </div>
                        <button onclick="window.adminManager.updateAccessCode()" class="btn-admin"
                            style="width: 100%;">Update Secure Key</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Inventory Modal -->
    <div id="admin-modal" class="modal">
        <div class="glass modal-content">
            <h2 id="modal-title" style="margin-bottom: var(--s-6);">Management</h2>
            <form id="machine-form" onsubmit="window.adminManager.saveMachine(event)">
                <input type="hidden" id="machine-id">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--s-4);">
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Brand</label>
                        <input type="text" id="form-brand" class="form-input">
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Model</label>
                        <input type="text" id="form-model" class="form-input">
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Category</label>
                        <select id="form-category" class="form-input">
                            <option value="Offset Machine">Offset Machine</option>
                            <option value="Pre Press Machine">Pre Press Machine</option>
                            <option value="Post Press Machine">Post Press Machine</option>
                            <option value="Packaging">Packaging</option>
                            <option value="Spare Part">Spare Part</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Status</label>
                        <select id="form-status" class="form-input">
                            <option value="1">Available</option>
                            <option value="0">Sold</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Year
                            of Mfg</label>
                        <input type="number" id="form-year" class="form-input">
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Color</label>
                        <input type="text" id="form-color" class="form-input">
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Price</label>
                        <input type="text" id="form-price" class="form-input" placeholder="e.g. POA">
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Serial
                            No</label>
                        <input type="text" id="form-serial" class="form-input">
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Size</label>
                        <input type="text" id="form-size" class="form-input" placeholder="e.g. 72 x 102 cm">
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Location</label>
                        <input type="text" id="form-location" class="form-input" placeholder="e.g. Germany">
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">YouTube
                            Video ID</label>
                        <input type="text" id="form-video" class="form-input" placeholder="e.g. dQw4w9WgXcQ">
                    </div>
                    <div class="form-group" style="display: flex; align-items: center; gap: 10px; padding-top: 25px;">
                        <input type="checkbox" id="form-featured"
                            style="width: 20px; height: 20px; accent-color: var(--accent-primary);">
                        <label for="form-featured" style="font-size: 0.9rem; color: var(--text-main);">Featured on
                            Homepage</label>
                    </div>
                </div>

                <div class="form-group" style="margin-top: var(--s-4);">
                    <label
                        style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Description
                        (HTML)</label>
                    <textarea id="form-description" class="form-input" style="height: 100px;"></textarea>
                </div>

                <div class="form-group" style="margin-top: var(--s-4);">
                    <label
                        style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Asset
                        URLs (Comma Separated)</label>
                    <div style="display: flex; gap: var(--s-2);">
                        <input type="text" id="form-pictures" class="form-input" placeholder="img1.jpg, img2.jpg"
                            style="flex: 1;">
                        <button type="button" class="btn-admin btn-outline"
                            onclick="window.adminManager.triggerUpload('machine', 'form-pictures')">Upload</button>
                    </div>
                    <div id="preview-form-pictures"
                        style="display: flex; gap: 10px; margin-top: 10px; overflow-x: auto; padding-bottom: 5px;">
                    </div>
                </div>

                <div class="modal-footer"
                    style="margin-top: var(--s-6); display: flex; gap: var(--s-3); position: sticky; bottom: 0; background: var(--bg-deep); padding-top: var(--s-4); border-top: 1px solid var(--glass-border);">
                    <button type="button" class="btn-admin btn-outline"
                        style="color: var(--danger); border-color: rgba(239, 68, 68, 0.4); flex: 1;"
                        onclick="document.getElementById('admin-modal').style.display='none'">Cancel</button>
                    <button type="submit" class="btn-admin" style="flex: 2;">Confirm Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- News Modal -->
    <div id="news-modal" class="modal">
        <div class="glass modal-content">
            <h2 id="news-modal-title" style="margin-bottom: var(--s-6);">News Management</h2>
            <form id="news-form" onsubmit="window.adminManager.saveNews(event)">
                <input type="hidden" id="news-id">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--s-4);">
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Year</label>
                        <input type="number" id="news-year" class="form-input">
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Month</label>
                        <input type="text" id="news-month" class="form-input">
                    </div>
                </div>
                <div class="form-group" style="margin-top: var(--s-4);">
                    <label
                        style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Detail
                        Content</label>
                    <textarea id="news-detail" class="form-input" style="height: 100px;"></textarea>
                </div>
                <div class="form-group" style="margin-top: var(--s-4);">
                    <label
                        style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Asset
                        Filename</label>
                    <div style="display: flex; gap: var(--s-2);">
                        <input type="text" id="news-picture" class="form-input" style="flex: 1;">
                        <button type="button" class="btn-admin btn-outline"
                            onclick="window.adminManager.triggerUpload('news', 'news-picture')">Upload</button>
                    </div>
                    <div id="preview-news-picture" style="margin-top: 10px;"></div>
                </div>
                <div class="modal-footer"
                    style="margin-top: var(--s-6); display: flex; gap: var(--s-3); position: sticky; bottom: 0; background: var(--bg-deep); padding-top: var(--s-4); border-top: 1px solid var(--glass-border); z-index: 10;">
                    <button type="button" class="btn-admin btn-outline"
                        onclick="document.getElementById('news-modal').style.display='none'"
                        style="flex: 1;">Dismiss</button>
                    <button type="submit" class="btn-admin" style="flex: 2;">Save Publication</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Blogs Modal -->
    <div id="blogs-modal" class="modal">
        <div class="glass modal-content" style="width: 900px;">
            <h2 id="blogs-modal-title" style="margin-bottom: var(--s-6);">Blog Publishing</h2>
            <form id="blogs-form" onsubmit="window.adminManager.saveBlog(event)">
                <input type="hidden" id="blog-id">
                <div class="form-group">
                    <label
                        style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Article
                        Title</label>
                    <input type="text" id="blog-title" class="form-input">
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--s-4); margin-top: var(--s-4);">
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Slug</label>
                        <input type="text" id="blog-slug" class="form-input">
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Featured
                            Image URL</label>
                        <div style="display: flex; gap: var(--s-2);">
                            <input type="text" id="blog-image" class="form-input" placeholder="blog-cover.jpg"
                                style="flex: 1;">
                            <button type="button" class="btn-admin btn-outline"
                                onclick="window.adminManager.triggerUpload('blog', 'blog-image')">Upload</button>
                        </div>
                        <div id="preview-blog-image" style="margin-top: 10px;"></div>
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">H1
                            Heading Override</label>
                        <input type="text" id="blog-heading" class="form-input">
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Status</label>
                        <select id="blog-status" class="form-input">
                            <option value="1">Published</option>
                            <option value="0">Draft</option>
                        </select>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--s-4); margin-top: var(--s-4);">
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Meta
                            Title (SEO)</label>
                        <input type="text" id="blog-meta-title" class="form-input">
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Meta
                            Description (SEO)</label>
                        <input type="text" id="blog-meta-desc" class="form-input">
                    </div>
                </div>
                <div class="form-group" style="margin-top: var(--s-4);">
                    <label
                        style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Article
                        Content</label>
                    <div id="blog-editor-wrapper" class="glass"
                        style="border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; overflow: hidden;">
                        <div id="blog-editor"
                            style="height: 400px; background: rgba(0,0,0,0.2); color: white; border: none;"></div>
                    </div>
                    <textarea id="blog-body" style="display: none;"></textarea>
                </div>
                <div class="modal-footer"
                    style="margin-top: var(--s-6); display: flex; gap: var(--s-3); position: sticky; bottom: 0; background: var(--bg-deep); padding-top: var(--s-4); border-top: 1px solid var(--glass-border); z-index: 10;">
                    <button type="button" class="btn-admin btn-outline"
                        onclick="document.getElementById('blogs-modal').style.display='none'"
                        style="flex: 1;">Cancel</button>
                    <button type="submit" class="btn-admin" style="flex: 2;">Push Updates</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Videos Modal -->
    <div id="videos-modal" class="modal">
        <div class="glass modal-content">
            <h2 id="videos-modal-title" style="margin-bottom: var(--s-6);">Video Link Management</h2>
            <form id="videos-form" onsubmit="window.adminManager.saveVideo(event)">
                <input type="hidden" id="video-id">
                <div class="form-group">
                    <label
                        style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Display
                        Title</label>
                    <input type="text" id="video-title" class="form-input" required>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--s-4); margin-top: var(--s-4);">
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">YouTube
                            Link/ID</label>
                        <input type="text" id="video-link" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Status</label>
                        <select id="video-status" class="form-input">
                            <option value="1">Active</option>
                            <option value="0">Hidden</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer"
                    style="margin-top: var(--s-6); display: flex; gap: var(--s-3); position: sticky; bottom: 0; background: var(--bg-deep); padding-top: var(--s-4); border-top: 1px solid var(--glass-border); z-index: 10;">
                    <button type="button" class="btn-admin btn-outline"
                        onclick="document.getElementById('videos-modal').style.display='none'"
                        style="flex: 1;">Discard</button>
                    <button type="submit" class="btn-admin" style="flex: 2;">Apply</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Staff Modal -->
    <div id="staff-modal" class="modal">
        <div class="glass modal-content">
            <h2 id="staff-modal-title" style="margin-bottom: var(--s-6);">Staff Member</h2>
            <form id="staff-form" onsubmit="window.adminManager.saveStaffMember(event)">
                <input type="hidden" id="staff-id">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--s-4);">
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Name</label>
                        <input type="text" id="staff-name" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Job
                            Title</label>
                        <input type="text" id="staff-title" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Contact
                            Phone</label>
                        <input type="text" id="staff-contact" class="form-input">
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Location</label>
                        <input type="text" id="staff-location" class="form-input">
                    </div>
                </div>
                <div class="form-group" style="margin-top: var(--s-4);">
                    <label
                        style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Profile
                        Image Filename</label>
                    <div style="display: flex; gap: var(--s-2);">
                        <input type="text" id="staff-image" class="form-input" placeholder="photo.jpg" style="flex: 1;">
                        <button type="button" class="btn-admin btn-outline"
                            onclick="window.adminManager.triggerUpload('our_staff', 'staff-image')">Upload</button>
                    </div>
                    <div id="preview-staff-image" style="margin-top: 10px;"></div>
                </div>
                <div class="modal-footer"
                    style="margin-top: var(--s-6); display: flex; gap: var(--s-3); position: sticky; bottom: 0; background: var(--bg-deep); padding-top: var(--s-4); border-top: 1px solid var(--glass-border); z-index: 10;">
                    <button type="button" class="btn-admin btn-outline"
                        onclick="document.getElementById('staff-modal').style.display='none'"
                        style="flex: 1;">Cancel</button>
                    <button type="submit" class="btn-admin" style="flex: 2;">Save Details</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Bulk Edit Modal -->
    <div id="bulk-modal" class="modal">
        <div class="glass modal-content">
            <h2 style="margin-bottom: var(--s-6);">Bulk Edit Machines</h2>
            <p id="bulk-selection-count"
                style="color: var(--text-muted); margin-bottom: var(--s-4); font-size: 0.9rem;">Updating 0 Selected
                Machines</p>
            <form id="bulk-form" onsubmit="window.adminManager.applyBulkChanges(event)">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--s-4);">
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Update
                            Status</label>
                        <select id="bulk-status" class="form-input">
                            <option value="">-- No Change --</option>
                            <option value="1">Available</option>
                            <option value="0">Sold</option>
                            <option value="archived">Archived</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Update
                            Category</label>
                        <select id="bulk-category" class="form-input">
                            <option value="">-- No Change --</option>
                            <option value="Offset Machine">Offset Machine</option>
                            <option value="Pre Press Machine">Pre Press Machine</option>
                            <option value="Post Press Machine">Post Press Machine</option>
                            <option value="Packaging">Packaging</option>
                            <option value="Spare Part">Spare Part</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Update
                            Location</label>
                        <input type="text" id="bulk-location" class="form-input" placeholder="e.g. Germany">
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Update
                            Price</label>
                        <input type="text" id="bulk-price" class="form-input" placeholder="e.g. POA">
                    </div>
                </div>

                <div class="modal-footer"
                    style="margin-top: var(--s-6); display: flex; gap: var(--s-3); position: sticky; bottom: 0; background: var(--bg-deep); padding-top: var(--s-4); border-top: 1px solid var(--glass-border); z-index: 10;">
                    <button type="button" class="btn-admin btn-outline"
                        onclick="document.getElementById('bulk-modal').style.display='none'"
                        style="flex: 1;">Cancel</button>
                    <button type="submit" class="btn-admin" style="flex: 2;">Apply to Selection</button>
                </div>
            </form>
        </div>
    </div>

    <!-- News Bulk Edit Modal -->
    <div id="news-bulk-modal" class="modal">
        <div class="glass modal-content">
            <h2 style="margin-bottom: var(--s-6);">Bulk Edit News</h2>
            <p id="news-bulk-selection-count"
                style="color: var(--text-muted); margin-bottom: var(--s-4); font-size: 0.9rem;">Updating 0 Selected
                Items</p>
            <form id="news-bulk-form" onsubmit="window.adminManager.applyNewsBulkChanges(event)">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--s-4);">
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Update
                            Year</label>
                        <input type="number" id="news-bulk-year" class="form-input" placeholder="-- No Change --">
                    </div>
                    <div class="form-group">
                        <label
                            style="font-size: 0.8rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Update
                            Month</label>
                        <input type="text" id="news-bulk-month" class="form-input" placeholder="-- No Change --">
                    </div>
                </div>
                <div class="modal-footer"
                    style="margin-top: var(--s-6); display: flex; gap: var(--s-3); position: sticky; bottom: 0; background: var(--bg-deep); padding-top: var(--s-4); border-top: 1px solid var(--glass-border); z-index: 10;">
                    <button type="button" class="btn-admin btn-outline"
                        onclick="document.getElementById('news-bulk-modal').style.display='none'"
                        style="flex: 1;">Dismiss</button>
                    <button type="submit" class="btn-admin" style="flex: 2;">Apply Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Floating Bulk Action Bar -->
    <div id="bulk-action-bar" class="glass"
        style="position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%) translateY(100px); padding: var(--s-4) var(--s-8); border-radius: 50px; display: flex; align-items: center; gap: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.5); border: 1px solid var(--accent-primary); transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); z-index: 1000;">
        <div style="color: white; font-weight: 600;">
            <span id="selected-count">0</span> Machines Selected
        </div>
        <div style="width: 1px; height: 24px; background: rgba(255,255,255,0.1);"></div>
        <div style="display: flex; gap: 10px;">
            <button class="btn-admin" style="font-size: 0.8rem; padding: 8px 20px;"
                onclick="window.adminManager.openBulkModal()">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                    <path d="M18.5 2.5a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4L18.5 2.5z"></path>
                </svg> Bulk Edit
            </button>
            <button class="btn-admin btn-outline"
                style="font-size: 0.8rem; padding: 8px 20px; color: var(--danger); border-color: rgba(239, 68, 68, 0.3);"
                onclick="window.adminManager.bulkDeleteMachines()">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="3 6 5 6 21 6"></polyline>
                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                    <line x1="10" y1="11" x2="10" y2="17"></line>
                    <line x1="14" y1="11" x2="14" y2="17"></line>
                </svg> Delete Selected
            </button>
            <button class="btn-admin btn-outline"
                style="font-size: 0.8rem; padding: 8px 20px; color: var(--text-muted); border-color: var(--glass-border);"
                onclick="window.adminManager.clearSelection()">
                Clear
            </button>
        </div>
    </div>

    <!-- Hidden File Input -->
    <input type="file" id="global-file-input" style="display: none;" accept="image/*">

    <style>
        /* Quill Snow Theme Overrides for Dark Mode */
        .ql-toolbar.ql-snow {
            background: rgba(255, 255, 255, 0.05) !important;
            border: none !important;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
        }

        .ql-container.ql-snow {
            border: none !important;
            height: calc(100% - 42px) !important;
            /* Adjust based on toolbar height */
            min-height: 250px !important;
        }

        .ql-snow .ql-stroke {
            stroke: rgba(255, 255, 255, 0.7) !important;
        }

        .ql-snow .ql-fill {
            fill: rgba(255, 255, 255, 0.7) !important;
        }

        .ql-snow .ql-picker {
            color: rgba(255, 255, 255, 0.7) !important;
        }

        .ql-snow .ql-picker-options {
            background-color: #1e293b !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
        }

        .ql-editor {
            font-family: 'Inter', sans-serif !important;
            font-size: 1rem !important;
            line-height: 1.6 !important;
            color: white !important;
            min-height: 100% !important;
        }
    </style>

    <!-- Scripts -->
    <script>
        // Auth Logic
        function checkAuth() {
            const pass = document.getElementById('admin-password').value;
            const errorEl = document.getElementById('login-error');
            const targetPass = localStorage.getItem('md_admin_access_code') || 'admin123';

            if (pass === targetPass) {
                localStorage.setItem('md_admin_auth', 'true');
                document.getElementById('login-screen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('login-screen').style.display = 'none';
                    if (window.adminManager) window.adminManager.loadAllData();
                }, 500);
            } else {
                errorEl.style.display = 'block';
                errorEl.style.animation = 'fadeUp 0.3s ease-out';
            }
        }

        function logout() {
            localStorage.removeItem('md_admin_auth');
            location.reload();
        }

        // Global Modal Openers
        function openAddModal() {
            document.getElementById('machine-id').value = '';
            document.getElementById('machine-form').reset();
            document.getElementById('modal-title').textContent = 'Register New Machine';
            document.getElementById('admin-modal').style.display = 'flex';
        }
    </script>
    <script src="js/admin-manager.js"></script>

</html>
RewriteEngine On

# Route /api/action items to api.php?action=action
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^api/(.*)$ api.php?action=$1 [L,QSA]

# Prevent directory listing for security
Options -Indexes

# Cache control for assets
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresDefault "access plus 1 month"
    ExpiresByType text/html "access plus 0 seconds"
</IfModule>
